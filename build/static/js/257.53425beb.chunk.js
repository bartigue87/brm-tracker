"use strict";(self.webpackChunkbrm_tracker=self.webpackChunkbrm_tracker||[]).push([[257],{729:function(e,a,n){n.d(a,{Z:function(){return t}});n(791);var s=n(184),t=function(e){return(0,s.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},342:function(e,a,n){n.r(a),n.d(a,{default:function(){return k}});var s=n(413),t=n(861),r=n(885),i=n(757),l=n.n(i),o=n(791),u=n(551),c=n(856),p=n(533),d=n(281),m=n(657),h=n(943),v=n(806),x=n(729),f=n(836),Z=n(871),b=n(816),g=n(319),j=n(184);function k(){var e=(0,o.useState)(!0),a=(0,r.Z)(e,2),n=a[0],i=a[1],k=(0,o.useContext)(f.V),w=(0,h.x)(),y=w.isLoading,C=w.error,N=w.sendRequest,P=w.clearError,S=(0,Z.s0)(),V=(0,p.c)({email:{value:"",isValid:!1},password:{value:"",isValid:!1}},!1),I=(0,r.Z)(V,3),O=I[0],T=I[1],L=I[2];function U(){return(U=(0,t.Z)(l().mark((function e(a){var s,t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log(O.inputs),!n){e.next=15;break}return e.prev=3,e.next=6,N("https://dfshive.herokuapp.com/api/users/login","POST",JSON.stringify({email:O.inputs.email.value,password:O.inputs.password.value}),{"Content-Type":"application/json"});case 6:s=e.sent,k.login(s.userId,s.token),S("/articles",{replace:!0}),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(3);case 13:e.next=25;break;case 15:return e.prev=15,e.next=18,N("https://dfshive.herokuapp.com/api/users/signup","POST",JSON.stringify({name:O.inputs.name.value,email:O.inputs.email.value,password:O.inputs.password.value}),{"Content-Type":"application/json"});case 18:t=e.sent,S("/articles",{replace:!0}),k.login(t.userId,t.token),e.next=25;break;case 23:e.prev=23,e.t1=e.catch(15);case 25:case"end":return e.stop()}}),e,null,[[3,11],[15,23]])})))).apply(this,arguments)}return console.log(O.isValid),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(g.Z,{}),(0,j.jsx)(d.Z,{error:C,onClear:P}),(0,j.jsxs)(x.Z,{className:"authentication",children:[y&&(0,j.jsx)(m.Z,{asOverlay:!0}),(0,j.jsx)("h2",{children:n?"Login":"Sign Up"}),(0,j.jsx)("hr",{}),(0,j.jsxs)("form",{onSubmit:function(e){return U.apply(this,arguments)},children:[!n&&(0,j.jsx)(u.Z,{element:"input",id:"name",type:"text",label:"Username",onInput:T,errorText:"Please enter a valid username",validators:[(0,v.hg)()]}),(0,j.jsx)(u.Z,{id:"email",type:"email",element:"input",label:"Email",onInput:T,errorText:"Please enter a valid email",validators:[(0,v.hg)(),(0,v.Ox)()]}),(0,j.jsx)(u.Z,{id:"password",type:"password",element:"input",label:"Password",onInput:T,errorText:"Password must be at least 6 characters in length",validators:[(0,v.hg)(),(0,v.CP)(6)]}),(0,j.jsx)(c.Z,{type:"submit",disabled:!O.isValid,children:n?"LOGIN":"SIGN UP"})]}),(0,j.jsx)(c.Z,{inverse:!0,onClick:function(){n?L((0,s.Z)((0,s.Z)({},O.inputs),{},{name:{value:"",isValid:!1}}),!1):L((0,s.Z)((0,s.Z)({},O.inputs),{},{name:void 0}),O.inputs.email.isValid&&O.inputs.password.isValid),i((function(e){return!e}))},children:n?"Not a member? Create an account":"Already a member? Login"})]}),(0,j.jsx)(b.Z,{})]})}}}]);
//# sourceMappingURL=257.53425beb.chunk.js.map
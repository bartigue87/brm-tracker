"use strict";(self.webpackChunkbrm_tracker=self.webpackChunkbrm_tracker||[]).push([[81],{445:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var a=r(861),n=r(885),l=r(757),i=r.n(l),s=r(791),c=r(319),o=r(816),u=(r(127),r(871)),d=r(551),p=r(806),h=r(856),m=r(533),x=r(943),v=r(836),f=r(281),b=r(657),j=r(184);function w(){var e=(0,s.useContext)(v.V),t=(0,u.s0)();(0,s.useEffect)((function(){window.scrollTo(0,0)}),[]);var r=(0,x.x)(),l=r.isLoading,w=r.error,y=r.sendRequest,k=r.clearError,Z=(0,m.c)({title:{value:"",isValid:!1},deposit:{value:"",isValid:!1},withdrawals:{value:"",isValid:!1},currentBalance:{value:"",isValid:!1}},!1),g=(0,n.Z)(Z,2),C=g[0],N=g[1];function T(){t("/".concat(e.userId,"/brm-tracker"),{replace:!0})}function B(){return(B=(0,a.Z)(i().mark((function t(r){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.prev=1,t.next=4,y("".concat("https://dfs-hive.herokuapp.com/api","/trackers"),"POST",JSON.stringify({title:C.inputs.title.value,deposit:C.inputs.deposit.value,withdrawals:C.inputs.withdrawals.value,currentBalance:C.inputs.currentBalance.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)});case 4:T(),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(1);case 9:case"end":return t.stop()}}),t,null,[[1,7]])})))).apply(this,arguments)}return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(c.Z,{}),(0,j.jsxs)("section",{className:"new-tracker-container",children:[(0,j.jsx)("h1",{className:"page-header",children:"Create a new Tracker"}),(0,j.jsx)(f.Z,{error:w,onClear:k}),(0,j.jsxs)("form",{className:"form",onSubmit:function(e){return B.apply(this,arguments)},children:[l&&(0,j.jsx)(b.Z,{asOverlay:!0}),(0,j.jsx)("div",{className:"form-controller",children:(0,j.jsx)(d.Z,{id:"title",element:"input",type:"text",label:"Title",placeholder:"Which site/app?",errorText:"Please enter a valid title",validators:[(0,p.hg)()],onInput:N})}),(0,j.jsx)("div",{className:"form-controller",children:(0,j.jsx)(d.Z,{id:"deposit",element:"input",type:"number",label:"Deposit",placeholder:"Enter amount... enter 0 if you didn't deposit",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:N})}),(0,j.jsx)("div",{className:"form-controller",children:(0,j.jsx)(d.Z,{id:"withdrawals",element:"input",type:"number",label:"Withdrawal",placeholder:"Enter amount... enter 0 if you didn't withdraw",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:N})}),(0,j.jsx)("div",{className:"form-controller",children:(0,j.jsx)(d.Z,{id:"currentBalance",element:"input",type:"number",label:"Current Balance",placeholder:"Enter the amount of money in your account",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:N})}),(0,j.jsxs)("div",{style:{display:"flex",gap:"25px"},children:[(0,j.jsx)(h.Z,{type:"submit",disabled:!C.isValid,children:"Submit"}),(0,j.jsx)("button",{onClick:T,className:"button",children:"Cancel"})]})]})]}),(0,j.jsx)(o.Z,{})]})}},127:function(){}}]);
//# sourceMappingURL=81.29223fcd.chunk.js.map
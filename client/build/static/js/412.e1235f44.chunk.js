"use strict";(self.webpackChunkbrm_tracker=self.webpackChunkbrm_tracker||[]).push([[412],{551:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(885),a=n(413),i=n(791),s=n(806),c=n(184),l=function(e,t){switch(t.type){case"CHANGE":return(0,a.Z)((0,a.Z)({},e),{},{value:t.val,isValid:(0,s.Gu)(t.val,t.validators)});case"TOUCH":return(0,a.Z)((0,a.Z)({},e),{},{isTouched:!0});default:return e}},o=function(e){var t=(0,i.useReducer)(l,{value:e.initialValue||"",isTouched:!1,isValid:e.initialValid||!1}),n=(0,r.Z)(t,2),a=n[0],s=n[1],o=e.id,u=e.onInput,d=a.value,h=a.isValid;(0,i.useEffect)((function(){u(o,d,h)}),[o,h,d]);var p=function(t){s({type:"CHANGE",val:t.target.value,validators:e.validators})},f=function(){s({type:"TOUCH"})},m="input"===e.element?(0,c.jsx)("input",{id:e.id,type:e.type,placeholder:e.placeholder,onChange:p,onBlur:f,value:a.value}):(0,c.jsx)("textarea",{id:e.id,rows:e.rows||3,onChange:p,onBlur:f,value:a.value});return(0,c.jsxs)("div",{className:"form-control ".concat(!a.isValid&&a.isTouched&&"form-control--invalid"),children:[(0,c.jsx)("label",{htmlFor:e.id,children:e.label}),m,!a.isValid&&a.isTouched&&(0,c.jsx)("p",{children:e.errorText})]})}},729:function(e,t,n){n.d(t,{Z:function(){return a}});n(791);var r=n(184),a=function(e){return(0,r.jsx)("div",{className:"card ".concat(e.className),style:e.style,children:e.children})}},816:function(e,t,n){n.d(t,{Z:function(){return i}});n(791);var r=n.p+"static/media/twitter-icons-png-2.b4480425f8090d6d783b.png",a=n(184);function i(){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("footer",{role:"contentinfo",className:"footer",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("ul",{className:"footer__social-links",children:[(0,a.jsx)("li",{className:"footer__social-link-item",children:(0,a.jsx)("a",{href:"mailto:bwartigue@gmail.com",children:(0,a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADaUlEQVR4nO2aPYgUSRiGn7cdlkVEBC8QEblAjFwV/IkUf1DQRQzcQFBBVkQu0APluEQw08DkONRATAy8xEAEMXBFRFwQEQR/7hANFAMRDhb1TvDv9r2gZ6Fdd7Z7anqm3Z16oGFZqr566536qqqrCyKRSCQSiUS6FI39YXsNsBmYCdQyzxhJ/RlPbYL/NcNo/QnhS2C9a5IuQ90A278DPwcGm6pcAPbOsL0fOF61mgpYCryR7dvAmqrVVMTTBJhTtYoK6UlofRKb0jSa2buGrjegRjkG/AsMAZ9I1/QvfL2+h67XY+mZZJ4eoBfYRLpnaYmyDJhFKuqwpJclxGuI7XnAGUroPJQ7/PuBB7YP2G5LWtneBTwCdpQVs2yhc4CzwA3bi8oKanuB7SvAH8APZcWFYgYMk+Z2M6wnHQ1HbAcvs7aT+k71EbCtyeqjwP0ijTz35OywvdT23Zxyjbhje0lA53+0fT2wzee2t9jelFeuiAHb6oJqtn+x/T5A0Efbx2z3FOh4Yvug7X8C2vls+5Tt2fVYG3PKFzKgf5zARbZvBoiz7Qe2V0/S+cW2bwXG/tPpK3023vqcOoUM2NLgV/rJ9tsAoZ9t/2Z7ViZeq6PruO3eCXQWMuBZTqFvDMg0sND21QDRdmr8dtsrbd8LjHHP9vJJ9LXXgMxo2GP778BO/BdQ573tX52zwriAAS3vAySNSroA9AEXA0I0q2EYWCHppKTQLXZw4w2R9FrSTmAAeFVW3AzvgEPAOklPygqaEP6iMiGSLpGOhvOEH3aOZwhYJum0pLJiAm16FZY0ImkQ2Aq8aCHUCDAIbJXUSpyGtPUsQNIQsAw4TfMj7RLQJ+l82b96lrYfhkh6J+kQsAH4q0CVV8CApAFJ7ZhLviIhP09LOTOUNAysAE4w8cvVKOm80VefRzpCEQNKQ9IHSUeBVaTL2RiPSfN8UNJIp/RARSfCkh4Ca23PJz1JetGmPM/tX6VH4p3I8Ty6+kQYim2EpvWHk+k+AnL7Fw3ohIrvmY7uA75HihgwlUdJ16dAbv+KLHGHbQ+UIKYKFuQVqJGfAtP6+kycBKsWUDXRgKoFVMynhPSbe7dyTk5vc5wD9lWtpsNcBHZnL0v3k14fnUt6/6aXqZ8ijS5iX5cU8hUrEolEIpFIZPrwP8VzVbW6ff4qAAAAAElFTkSuQmCC",className:"footer__social-image",alt:"Email"})})}),(0,a.jsx)("li",{className:"footer__social-link-item",children:(0,a.jsx)("a",{href:"https://twitter.com",title:"Link to Twitter",children:(0,a.jsx)("img",{src:r,className:"footer__social-image",alt:"Twitter"})})})]})})})})}},319:function(e,t,n){n.d(t,{Z:function(){return d}});var r=n(885),a=n(791);var i=n.p+"static/media/icon-hamburger.5273efa7c50e96ef3e51e7a2b54048ce.svg";var s=n.p+"static/media/icon-close.d47fda63cbd8b3fedbbc1b2a53f64470.svg",c=n(504),l=n(871),o=n(836),u=n(184);function d(){var e=(0,a.useContext)(o.V),t=(0,l.s0)();function n(){e.logout(),t("/login",{replace:!0})}var d=(0,a.useState)(!0),h=(0,r.Z)(d,2),p=h[0],f=h[1];var m={transform:p?"translateX(100%)":"translateX(0%)"},v={backgroundImage:"url(".concat(p?i:s,")"),backgroundRepeat:"no-repeat",backgroundColor:"transparent"};return(0,u.jsxs)("div",{className:"nav-container",children:[(0,u.jsx)("h1",{children:"DFS Hive"}),(0,u.jsx)("nav",{className:"active",children:(0,u.jsxs)("ul",{className:"nav-list",children:[(0,u.jsx)(c.OL,{to:"/".concat(e.userId,"/brm-tracker"),children:(0,u.jsx)("li",{className:"link",children:"Bankroll Manager"})}),(0,u.jsx)(c.OL,{to:"/articles",children:(0,u.jsx)("li",{className:"link",children:"Articles"})}),(0,u.jsx)(c.OL,{to:"/brandons-plays",children:(0,u.jsx)("li",{className:"link",children:"Brandon's Plays"})}),(0,u.jsx)(c.OL,{to:"/login",children:e.isLoggedIn?(0,u.jsx)("li",{className:"link",onClick:n,children:"Logout"}):(0,u.jsx)("li",{className:"link",children:"Login"})})]})}),(0,u.jsx)("nav",{className:"inactive",style:m,children:(0,u.jsxs)("ul",{className:"nav-list",children:[(0,u.jsx)(c.OL,{to:"/".concat(e.userId,"/brm-tracker"),children:(0,u.jsx)("li",{className:"link",children:"Bankroll Manager"})}),(0,u.jsx)(c.OL,{to:"/articles",children:(0,u.jsx)("li",{className:"link",children:"Articles"})}),(0,u.jsx)(c.OL,{to:"/brandons-plays",children:(0,u.jsx)("li",{className:"link",children:"Brandon's Plays"})}),(0,u.jsx)(c.OL,{to:"/login",children:e.isLoggedIn?(0,u.jsx)("li",{className:"link",onClick:n,children:"Logout"}):(0,u.jsx)("li",{className:"link",children:"Login"})})]})}),(0,u.jsx)("button",{className:"icon",style:v,onClick:function(){f((function(e){return!e}))}})]})}},464:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(861),a=n(885),i=n(757),s=n.n(i),c=n(791),l=n(943),o=n(184);function u(e){var t=(0,l.x)().sendRequest;function n(){return(n=(0,r.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t("https://dfshive.herokuapp.com/api/history/".concat(e.id),"DELETE");case 3:e.onDelete(e.id),n.next=8;break;case 6:n.prev=6,n.t0=n.catch(0);case 8:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("li",{children:[(0,o.jsxs)("p",{children:[e.title,":"]}),(0,o.jsxs)("p",{children:["$",e.amount]}),(0,o.jsx)("p",{children:e.date}),(0,o.jsx)("button",{className:"delete-btn",onClick:function(){return n.apply(this,arguments)},children:"X"})]},e.id)})}function d(e){return(0,o.jsx)(o.Fragment,{children:e.items.map((function(t){return(0,o.jsx)(u,{id:t.id,title:t.title,amount:t.amount,date:t.date,trackerId:t.trackerLink,onDelete:e.onDeleteHistory},t.id)}))})}var h=function(e){var t=e.trackerId,n=(0,l.x)(),i=n.isLoading,u=n.sendRequest,h=(0,c.useState)(),p=(0,a.Z)(h,2),f=p[0],m=p[1];(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u("https://dfshive.herokuapp.com/api/history/tracker/".concat(t));case 3:n=e.sent,m(n.history),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[u,t]);return(0,o.jsx)(o.Fragment,{children:!i&&f&&(0,o.jsx)(d,{items:f,onDeleteHistory:function(e){m((function(t){return t.filter((function(t){return t.id!==e}))}))}})})}},141:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(861),a=n(885),i=n(757),s=n.n(i),c=n(791),l=n(871),o=n(319),u=n(816),d=n(836),h=n(943),p=n(729),f=(n(622),n(551)),m=n(806),v=n(533),x=n(464),j=n(184);function b(e){var t=e.id,n=(0,c.useContext)(d.V),i=(0,h.x)().sendRequest,o=(0,l.s0)(),u=(0,c.useState)(!1),p=(0,a.Z)(u,2),b=(p[0],p[1],(0,v.c)({title:{value:"",isValid:!1},deposit:{value:"",isValid:!1},withdrawals:{value:"",isValid:!1},currentBalance:{value:"",isValid:!1}},!1)),A=(0,a.Z)(b,2),y=A[0],k=A[1];function w(){return g.apply(this,arguments)}function g(){return(g=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("https://dfshive.herokuapp.com/api/history","POST",JSON.stringify({title:"Withdrawal",amount:y.inputs.withdrawals.value,trackerLink:t}),{"Content-Type":"application/json"});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function N(){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("https://dfshive.herokuapp.com/api/history","POST",JSON.stringify({title:"Deposit",amount:y.inputs.deposit.value,trackerLink:t}),{"Content-Type":"application/json"});case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function C(){return T.apply(this,arguments)}function T(){return(T=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(y.inputs.withdrawals.value>0&&y.inputs.deposit.value>0)){e.next=17;break}return e.prev=1,e.next=4,w();case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.prev=8,e.next=11,N();case 11:e.next=15;break;case 13:e.prev=13,e.t1=e.catch(8);case 15:e.next=18;break;case 17:y.inputs.withdrawals.value>0?w():y.inputs.deposit.value>0&&N();case 18:case"end":return e.stop()}}),e,null,[[1,6],[8,13]])})))).apply(this,arguments)}var E=function(){var a=(0,r.Z)(s().mark((function r(a){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a.preventDefault(),r.prev=1,r.next=4,i("https://dfshive.herokuapp.com/api/trackers/".concat(t),"PATCH",JSON.stringify({title:e.title,deposit:e.deposit+Number(y.inputs.deposit.value),withdrawals:e.withdrawals+Number(y.inputs.withdrawals.value),currentBalance:Number(y.inputs.currentBalance.value),net:Number(y.inputs.currentBalance.value)-(e.deposit+Number(y.inputs.deposit.value))+(e.withdrawals+Number(y.inputs.withdrawals.value))}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)});case 4:C(),setTimeout((function(){V(),window.location.reload()}),[600]),r.next=10;break;case 8:r.prev=8,r.t0=r.catch(1);case 10:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}();function V(){o("/".concat(n.userId,"/brm-tracker"),{replace:!0})}var I={color:e.net>0?"#2ecc71":"#c0392b"};return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:"brm-container",children:[(0,j.jsx)("h1",{className:"site",children:e.title}),(0,j.jsx)("h3",{children:"Current Balance"}),(0,j.jsx)("h1",{className:"balance",children:e.currentBalance}),(0,j.jsxs)("div",{className:"inc-exp-container",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{children:"Deposits"}),(0,j.jsx)("p",{className:"money minus",children:e.deposit.toFixed(2)})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{children:"Withdrawals"}),(0,j.jsx)("p",{className:"money plus",children:e.withdrawals.toFixed(2)})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("h5",{children:"Net"}),(0,j.jsx)("p",{className:"money",style:I,children:e.net.toFixed(2)})]})]}),(0,j.jsx)("h3",{children:"Recent Transactions"}),(0,j.jsx)("ul",{id:"list",className:"list",children:(0,j.jsx)(x.Z,{trackerId:t})}),(0,j.jsx)("h3",{children:"Add transaction"}),(0,j.jsxs)("form",{className:"form",onSubmit:E,children:[(0,j.jsxs)("div",{className:"form-control",children:[(0,j.jsx)("label",{htmlFor:"deposit",children:"Deposit"}),(0,j.jsx)(f.Z,{id:"deposit",element:"input",type:"number",label:"Deposit",placeholder:"Enter amount... enter 0 if you didn't deposit",errorText:"Please enter a valid number",validators:[(0,m.hg)()],onInput:k})]}),(0,j.jsxs)("div",{className:"form-control",children:[(0,j.jsx)("label",{htmlFor:"withdrawals",children:"Withdrawal"}),(0,j.jsx)(f.Z,{id:"withdrawals",element:"input",type:"number",label:"Withdrawal",placeholder:"Enter amount... enter 0 if you didn't withdraw",errorText:"Please enter a valid number",validators:[(0,m.hg)()],onInput:k})]}),(0,j.jsxs)("div",{className:"form-control",children:[(0,j.jsx)("label",{htmlFor:"endOfDayBalance",children:"Current Balance"}),(0,j.jsx)(f.Z,{id:"currentBalance",element:"input",type:"number",label:"Current Balance",placeholder:"Enter the amount of money in your account",errorText:"Please enter a valid number",validators:[(0,m.hg)()],onInput:k})]}),(0,j.jsxs)("div",{style:{display:"flex"},children:[(0,j.jsx)("button",{type:"submit",className:"button",children:"Update balance"}),(0,j.jsx)("button",{className:"button",onClick:V,children:"Cancel"})]})]})]})})}var A=function(e){return 0===e.items.length?(0,j.jsx)("div",{className:"place-list center",children:(0,j.jsx)(p.Z,{children:(0,j.jsx)("h2",{children:"No trackers to show yet"})})}):(console.log("first Props:",e),(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(b,{id:e.items.id,title:e.items.title,deposit:e.items.deposit,withdrawals:e.items.withdrawals,currentBalance:e.items.currentBalance,net:e.items.net,history:e.items.history,creatorId:e.items.creator,onDelete:e.items.onDeleteTracker},e.items.id)}))};n(234);function y(){(0,l.s0)();var e=(0,c.useContext)(d.V),t=(0,h.x)(),n=t.isLoading,i=t.sendRequest,p=(0,c.useState)(),f=(0,a.Z)(p,2),m=f[0],v=f[1],x=(0,l.UO)().tid;return(0,c.useEffect)((function(){var e=function(){var e=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("https://dfshive.herokuapp.com/api/trackers/".concat(x));case 3:t=e.sent,v(t.tracker),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[i,x]),console.log("loadedTracker:",m),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.Z,{}),!n&&m&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h1",{className:"portfolio-header",children:"Add Transaction"}),(0,j.jsx)("section",{className:"grid1",children:m&&(0,j.jsx)(A,{items:m})})]}),(0,j.jsx)(u.Z,{}),!e.isLoggedIn&&(0,j.jsx)("div",{className:"logged-out-modal",children:(0,j.jsx)("h2",{className:"logged-out-header",children:"Please login to view your bankroll manager"})})]})}},533:function(e,t,n){n.d(t,{c:function(){return l}});var r=n(885),a=n(942),i=n(413),s=n(791),c=function(e,t){switch(t.type){case"INPUT_CHANGE":var n=!0;for(var r in e.inputs)e.inputs[r]&&(n=r===t.inputId?n&&t.isValid:n&&e.inputs[r].isValid);return(0,i.Z)((0,i.Z)({},e),{},{inputs:(0,i.Z)((0,i.Z)({},e.inputs),{},(0,a.Z)({},t.inputId,{value:t.value,isValid:t.isValid})),isValid:n});case"SET_DATA":return{inputs:t.inputs,isValid:t.formIsValid};default:return e}},l=function(e,t){var n=(0,s.useReducer)(c,{inputs:e,isValid:t}),a=(0,r.Z)(n,2),i=a[0],l=a[1];return[i,(0,s.useCallback)((function(e,t,n){l({type:"INPUT_CHANGE",value:t,isValid:n,inputId:e})}),[]),(0,s.useCallback)((function(e,t){l({type:"SET_DATA",inputs:e,formIsValid:t})}),[])]}},943:function(e,t,n){n.d(t,{x:function(){return l}});var r=n(861),a=n(885),i=n(757),s=n.n(i),c=n(791),l=function(){var e=(0,c.useState)(!1),t=(0,a.Z)(e,2),n=t[0],i=t[1],l=(0,c.useState)(),o=(0,a.Z)(l,2),u=o[0],d=o[1],h=(0,c.useRef)([]),p=(0,c.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){var n,r,a,c,l,o,u=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]?u[1]:"GET",r=u.length>2&&void 0!==u[2]?u[2]:null,a=u.length>3&&void 0!==u[3]?u[3]:{},i(!0),c=new AbortController,h.current.push(c),e.prev=6,e.next=9,fetch(t,{method:n,body:r,headers:a,signal:c.signal});case 9:return l=e.sent,e.next=12,l.json();case 12:if(o=e.sent,h.current=h.current.filter((function(e){return e!==c})),l.ok){e.next=17;break}throw i(!1),new Error(o.message);case 17:return i(!1),e.abrupt("return",o);case 21:throw e.prev=21,e.t0=e.catch(6),d(e.t0.message),i(!1),e.t0;case 26:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(t){return e.apply(this,arguments)}}(),[]);return(0,c.useEffect)((function(){return function(){h.current.forEach((function(e){return e.abort()}))}}),[]),{isLoading:n,error:u,sendRequest:p,clearError:function(){d(null)}}}},806:function(e,t,n){n.d(t,{Ox:function(){return u},CP:function(){return o},hg:function(){return l},Gu:function(){return d}});var r=n(192);var a="REQUIRE",i="MINLENGTH",s="MAXLENGTH",c="EMAIL",l=function(){return{type:a}},o=function(e){return{type:i,val:e}},u=function(){return{type:c}},d=function(e,t){var n,l=!0,o=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,c=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){l=!0,s=e},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw s}}}}(t);try{for(o.s();!(n=o.n()).done;){var u=n.value;u.type===a&&(l=l&&e.trim().length>0),u.type===i&&(l=l&&e.trim().length>=u.val),u.type===s&&(l=l&&e.trim().length<=u.val),"MIN"===u.type&&(l=l&&+e>=u.val),"MAX"===u.type&&(l=l&&+e<=u.val),u.type===c&&(l=l&&/^\S+@\S+\.\S+$/.test(e))}}catch(d){o.e(d)}finally{o.f()}return l}},622:function(){},234:function(){}}]);
//# sourceMappingURL=412.e1235f44.chunk.js.map
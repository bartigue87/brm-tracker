"use strict";(self.webpackChunkbrm_tracker=self.webpackChunkbrm_tracker||[]).push([[349],{726:function(e,t,a){a.r(t),a.d(t,{default:function(){return b}});var r=a(861),n=a(885),i=a(757),l=a.n(i),s=a(791),c=a(319),u=a(816),o=(a(127),a(871)),d=a(551),p=a(806),h=a(856),v=a(533),f=a(943),m=a(836),x=a(281),k=a(657),w=a(184);function b(){var e=(0,s.useContext)(m.V),t=(0,o.UO)().tid,a=(0,o.s0)(),i=(0,s.useState)(),b=(0,n.Z)(i,2),j=b[0],V=b[1];(0,s.useEffect)((function(){window.scrollTo(0,0)}),[]);var y=(0,f.x)(),Z=y.isLoading,g=y.error,T=y.sendRequest,B=y.clearError,C=(0,v.c)({title:{value:"",isValid:!1},deposit:{value:"",isValid:!1},withdrawals:{value:"",isValid:!1},currentBalance:{value:"",isValid:!1}},!1),N=(0,n.Z)(C,3),I=N[0],P=N[1],S=N[2];function D(){a("/".concat(e.userId,"/brm-tracker"),{replace:!0})}function E(){return(E=(0,r.Z)(l().mark((function a(r){return l().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r.preventDefault(),a.prev=1,a.next=4,T("https://dfshive.herokuapp.com/api/trackers/".concat(t),"PATCH",JSON.stringify({title:I.inputs.title.value,deposit:I.inputs.deposit.value,withdrawals:I.inputs.withdrawals.value,currentBalance:I.inputs.currentBalance.value}),{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)});case 4:D(),a.next=9;break;case 7:a.prev=7,a.t0=a.catch(1);case 9:case"end":return a.stop()}}),a,null,[[1,7]])})))).apply(this,arguments)}return(0,s.useEffect)((function(){var e=function(){var e=(0,r.Z)(l().mark((function e(){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T("https://dfshive.herokuapp.com/api/trackers/".concat(t));case 3:a=e.sent,console.log("responseData",a),V(a.tracker),S({title:{value:a.tracker.title,isValid:!0},deposit:{value:a.tracker.desposit,isValid:!0},withdrawals:{value:a.tracker.withdrawals,isValid:!0},currentBalance:{value:a.tracker.currentBalance,isValid:!0}},!0),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();e()}),[T,S,t]),console.log("loadedTracker",j),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(c.Z,{}),(0,w.jsxs)("section",{className:"new-tracker-container",children:[(0,w.jsx)("h1",{className:"page-header",children:"Update Tracker"}),(0,w.jsx)(x.Z,{error:g,onClear:B}),!Z&&j&&(0,w.jsxs)("form",{className:"form",onSubmit:function(e){return E.apply(this,arguments)},children:[Z&&(0,w.jsx)(k.Z,{asOverlay:!0}),(0,w.jsx)("div",{className:"form-controller",children:(0,w.jsx)(d.Z,{id:"title",element:"input",type:"text",label:"Title",errorText:"Please enter a valid title",validators:[(0,p.hg)()],onInput:P,initialValue:j.title,initialValid:!0})}),(0,w.jsx)("div",{className:"form-controller",children:(0,w.jsx)(d.Z,{id:"deposit",element:"input",type:"number",label:"Deposit",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:P,initialValue:j.deposit,initialValid:!0})}),(0,w.jsx)("div",{className:"form-controller",children:(0,w.jsx)(d.Z,{id:"withdrawals",element:"input",type:"number",label:"Withdrawal",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:P,initialValue:j.withdrawals,initialValid:!0})}),(0,w.jsx)("div",{className:"form-controller",children:(0,w.jsx)(d.Z,{id:"currentBalance",element:"input",type:"number",label:"Current Balance",errorText:"Please enter a valid number",validators:[(0,p.hg)()],onInput:P,initialValue:j.currentBalance,initialValid:!0})}),(0,w.jsxs)("div",{style:{display:"flex",gap:"25px"},children:[(0,w.jsx)(h.Z,{type:"submit",disabled:!I.isValid,children:"Submit"}),(0,w.jsx)("button",{onClick:D,className:"button",children:"Cancel"})]})]})]}),(0,w.jsx)(u.Z,{})]})}},127:function(){}}]);
//# sourceMappingURL=349.5c396f1b.chunk.js.map